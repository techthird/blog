# 1、DDD入门介绍与初步实践

# 一、DDD是什么？
DDD(Domain Driven Design)，领域驱动设计。
2004年埃里克·埃文斯（Eric Evans）发表了《领域驱动设计》这本书，从此DDD诞生。

**DDD核心思想：通过领域驱动设计方法定义领域模型，从而确定业务和应用边界，保证业务模型与代码模型的一致性。**

但 DDD 提出后在软件开发领域一直都是“雷声大，雨点小”！直到马丁·福勒(Martin Fowler)提出微服务架构，DDD 才真正迎来了自己的时代。

**DDD设计思想：**

战略设计（业务视角）：

- 建立业务领域模型。如：订单、商品、用户
- 划分领域边界。如：用户领域仅限处理用户、权限、认证。
- 建立通用语言的限界上下文。如：通俗解释，领域划分的名词必须有明确的含义，没有二义。使团队所有成员能够明确地知道什么应该在模型中实现，什么不应该在模型中实现。

战术设计（技术视角）：

- 指导代码架构的设计。如：是完全采用DDD架构，还是结合项目情况做相应的微调，需要研发去思考。
- 完成软件开发和落地。如：需要一线开发理解架构层级划分的思想，指导当前与未来的开发。



**解决问题：**

- 解决系统架构不清晰，内聚低、耦合高。如：操作数据库、缓存、RPC调用、核心代码都在一个类或方法中，维护和重构时花的成本至少翻倍。
- 减少重构风险
- 促使各业务领域边界清晰
- 随业务发展，具备架构演进的能力



# 二、DDD与中台关系

**DDD本质：**

细分业务领域，划分边界，高内聚，低耦合。

**中台的本质：**

提炼各个业务板块的共同需求，进行业务和系统抽象，形成**通用的可复用**的业务模型，打造成**组件化产品**，供前台部门使用。

前台要做什么业务，需要什么资源，可以直接找中台，不需要每次都去改动自己的底层。



# 三、架构演讲&DDD架构分层
![20221113113819.png](https://restest.sx.ink/20221113113819.png)


**分层解释：**

- **用户接口层：** 面向前端提供服务适配，面向资源层提供资源适配。这一层聚集了接口适配相关的功能。
- **应用层职责：** 实现服务组合和编排，适应业务流程快速变化的需求。这一层聚集了应用服务和事件相关的功能。
- **领域层：** 实现领域的核心业务逻辑。这一层聚集了领域模型的聚合、聚合根、实体、值对象、领域服务和事件等领域对象，以及它们组合所形成的业务能力。
- **基础层：** 贯穿所有层，为各层提供基础资源服务。这一层聚集了各种底层资源相关的服务和能力。



# 四、实战：代码架构的划分

![20221113113850.png](https://restest.sx.ink/20221113113850.png)
